<mujoco model="drone_3d_free">
  <compiler angle="degree" inertiafromgeom="true" coordinate="local"/>
  <option timestep="0.01" gravity="0 0 -9.81" density="1" viscosity="1e-5" integrator="RK4"/>

  <default>
    <joint damping="0.0005" stiffness="0.001" limited="false"/>
    <geom condim="3" density="500" friction="1 0.5 0.5" margin="0.01" rgba="0.8 0.6 0.4 1"/>
  </default>

  <asset>
    <texture builtin="gradient" type="skybox" height="100" width="100" rgb1="1 1 1" rgb2="0.6 0.8 1"/>
    <texture name="texplane" builtin="checker" height="100" width="100" rgb1="0.7 0.7 0.7" rgb2="0.9 0.9 0.9" type="2d"/>
    <material name="MatPlane" reflectance="0.3" shininess="1" specular="0.5" texrepeat="5 5" texture="texplane"/>
    <material name="MatDrone" specular="0.5" shininess="1" rgba="0.8 0.2 0.2 1"/>
  </asset>

  <worldbody>
    <light cutoff="100" diffuse="1 1 1" dir="-0 0 -1.3" directional="true" exponent="1"
           pos="0 0 1.3" specular=".1 .1 .1"/>
    <geom material="MatPlane" name="floor" pos="0 0 0" rgba="0.4 0.3 0.3 1" size="5 5 0.2" type="plane"/>

    <!-- ðŸš DRON LIBRE (sin cable/viga) -->
    <body name="drone_3d" pos="0 0 1.0">
      <!-- Free joint = 6DOF (posiciÃ³n + orientaciÃ³n) -->
      <joint name="drone_free" type="free"/>

      <geom name="drone_body" type="box" size="0.04 0.04 0.02" material="MatDrone"
            mass="0.30" contype="0" conaffinity="0"/>

      <!-- brazos -->
      <geom name="arm_x_pos" type="box" pos=" 0.10 0 0" size="0.06 0.01 0.01" rgba="0.8 0.8 0.8 1"/>
      <geom name="arm_x_neg" type="box" pos="-0.10 0 0" size="0.06 0.01 0.01" rgba="0.8 0.8 0.8 1"/>
      <geom name="arm_y_pos" type="box" pos="0  0.10 0" size="0.01 0.06 0.01" rgba="0.8 0.8 0.8 1"/>
      <geom name="arm_y_neg" type="box" pos="0 -0.10 0" size="0.01 0.06 0.01" rgba="0.8 0.8 0.8 1"/>

      <!-- hÃ©lices + sitios de motores -->
      <body name="prop0" pos=" 0.16  0.00 0.03">
        <geom type="cylinder" size="0.03 0.003" rgba="0.3 1 0.3 0.6"/>
        <site name="motor0" pos="0 0 0.003" size="0.008" rgba="0 1 0 0.7" type="cylinder"/>
      </body>
      <body name="prop1" pos="-0.16  0.00 0.03">
        <geom type="cylinder" size="0.03 0.003" rgba="0.3 1 0.3 0.6"/>
        <site name="motor1" pos="0 0 0.003" size="0.008" rgba="0 1 0 0.7" type="cylinder"/>
      </body>
      <body name="prop2" pos=" 0.00  0.16 0.03">
        <geom type="cylinder" size="0.03 0.003" rgba="0.3 1 0.3 0.6"/>
        <site name="motor2" pos="0 0 0.003" size="0.008" rgba="0 1 0 0.7" type="cylinder"/>
      </body>
      <body name="prop3" pos=" 0.00 -0.16 0.03">
        <geom type="cylinder" size="0.03 0.003" rgba="0.3 1 0.3 0.6"/>
        <site name="motor3" pos="0 0 0.003" size="0.008" rgba="0 1 0 0.7" type="cylinder"/>
      </body>

      <!-- ejes (visualizaciÃ³n) -->
      <site name="x_axis" type="box" pos="0.20 0 0" size="0.20 0.003 0.003" rgba="1 0 0 0.3"/>
      <site name="y_axis" type="box" pos="0 0.20 0" size="0.003 0.20 0.003" rgba="0 1 0 0.3"/>
      <site name="z_axis" type="box" pos="0 0 0.20" size="0.003 0.003 0.20" rgba="0 0 1 0.3"/>
    </body>
  </worldbody>

  <!-- âš™ï¸ Actuadores -->
  <actuator>
    <motor site="motor0" ctrlrange="0 2" gear="0 0 1 0 0 -0.05"/>
    <motor site="motor1" ctrlrange="0 2" gear="0 0 1 0 0  0.05"/>
    <motor site="motor2" ctrlrange="0 2" gear="0 0 1 0 0 -0.05"/>
    <motor site="motor3" ctrlrange="0 2" gear="0 0 1 0 0  0.05"/>
  </actuator>

  <!-- ðŸ“¡ Sensores -->
  <sensor>
    <framepos    name="pos_drone"     objtype="body" objname="drone_3d"/>
    <framequat   name="quat_drone"    objtype="body" objname="drone_3d"/>
    <framelinvel name="linvel_drone"  objtype="body" objname="drone_3d"/>
    <frameangvel name="rotvel_drone"  objtype="body" objname="drone_3d"/>
  </sensor>
</mujoco>
